from PySide6.QtCore import QSettings

TRANSLATIONS = {
    "en": {
        "title": "System Updater",
        "settings": "Settings",
        "advanced": "Advanced (Selective Flatpaks)",
        "real_time_logs": "Show Real-Time Logs",
        "checking": "Checking for updates...",
        "wait_query": "Please wait while we query the repositories.",
        "up_to_date": "Your system is fully up to date!",
        "zypper_uptodate": "Zypper: Up to date",
        "flatpak_uptodate": "Flatpaks: Up to date",
        "updates_available_title": "Updates are available.",
        "os_update_zypper": "OS Update (Zypper)",
        "apps_flatpaks": "Apps (Flatpak)",
        "update_all": "Update All Now",
        "conflicts_title": "Updates cannot be installed at this time",
        "conflicts_desc": "Don't worry! Your system is safe. This happens when the update server is undergoing maintenance. Most likely it will be sorted in a few hours, or by tomorrow.",
        "conflicts_flatpak_hint": "",
        "updating_title": "Updating System...",
        "applying_changes": "Applying changes. This may take a while.",
        "update_failed": "Update Failed.",
        "check_advanced": "Check Advanced log.",
        "no_updates": "No updates available.",
        "selective_updates": "Selective Updates",
        "raw_logs": "Raw Logs",
        "running_selective": "--- RUNNING SELECTIVE UPDATES ---",
        "updates_completed": "--- UPDATES COMPLETED SUCCESSFULLY ---",
        "errors_occurred": "--- ERRORS OCCURRED DURING UPDATE ---",
        
        # Settings
        "settings_title": "System Updater Settings",
        "engines_group": "Active Update Engines",
        "check_zypper_label": "Check for OpenSUSE system updates (Zypper)",
        "check_flatpak_label": "Check for application updates (Flatpak)",
        "sys_behavior": "System Behavior",
        "autostart": "Start automatically when I log in",
        "language": "Language",
        "adv_utilities": "Advanced Utilities",
        "open_logs": "Open Historical Logs",
        "reinstall_sudoers": "Reinstall Sudoers Rule (Wizard)",
        "remove_sudoers": "Remove Sudoers Rule (Reset)",
        "save": "Save Settings",
        "cancel": "Cancel",
        "remove_confirm_title": "Remove Permissions?",
        "remove_confirm_msg": "This will delete the background polkit/sudoers rule, meaning tests will no longer run automatically without a password.\n\nAre you sure you want to revert to default behavior?",
        
        # Wizard
        "wizard_title": "SUSE Updater Setup",
        "wizard_welcome": "Welcome to SUSE Updater",
        "wizard_desc": "This tool needs a small permission tweak to check for Tumbleweed updates in the background without asking for your password every time.",
        "wizard_action": "Continue",
        "wizard_skip": "Skip (Manual Mode)",
        "wizard_success": "Setup Complete!",
        "wizard_success_desc": "The sudoers rule has been installed. The app will now check for updates silently in the background.",
        "wizard_close": "Close",
    },
    "sk": {
        "title": "Systémový aktualizátor",
        "settings": "Nastavenia",
        "advanced": "Pokročilé (Selektívne Flatpaky)",
        "real_time_logs": "Zobraziť logy v reálnom čase",
        "checking": "Kontrolujem aktualizácie...",
        "wait_query": "Prosím čakajte, kým preverujeme repozitáre.",
        "up_to_date": "Váš systém je kompletne aktuálny!",
        "zypper_uptodate": "Zypper: Aktuálny",
        "flatpak_uptodate": "Flatpaky: Aktuálne",
        "updates_available_title": "Nové aktualizácie sú k dispozícii.",
        "os_update_zypper": "Aktualizácia OS (Zypper)",
        "apps_flatpaks": "Aplikácie (Flatpak)",
        "update_all": "Aktualizovať teraz",
        "conflicts_title": "Aktualizácie momentálne nie je možné nainštalovať",
        "conflicts_desc": "Nebojte sa! Váš systém je v poriadku. Stáva sa to, keď na serveroch prebieha údržba. Pravdepodobne to bude vyriešené o pár hodín, alebo zajtra.",
        "conflicts_flatpak_hint": "",
        "updating_title": "Aktualizujem systém...",
        "applying_changes": "Aplikujem zmeny. Môže to chvíľu trvať.",
        "update_failed": "Aktualizácia zlyhala.",
        "check_advanced": "Skontrolujte pokročilý log.",
        "no_updates": "Žiadne aktualizácie k dispozícii.",
        "selective_updates": "Selektívne aktualizácie",
        "raw_logs": "Surové logy",
        "running_selective": "--- SPÚŠŤAM SELEKTÍVNE AKTUALIZÁCIE ---",
        "updates_completed": "--- AKTUALIZÁCIE ÚSPEŠNE DOKONČENÉ ---",
        "errors_occurred": "--- POČAS AKTUALIZÁCIE NASTALI CHYBY ---",
        
        # Settings
        "settings_title": "Nastavenia systémového aktualizátora",
        "engines_group": "Aktívne moduly aktualizácií",
        "check_zypper_label": "Kontrolovať systémové aktualizácie OpenSUSE (Zypper)",
        "check_flatpak_label": "Kontrolovať aktualizácie aplikácií (Flatpak)",
        "sys_behavior": "Správanie systému",
        "autostart": "Spustiť automaticky pri prihlásení",
        "language": "Jazyk",
        "adv_utilities": "Pokročilé nástroje",
        "open_logs": "Otvoriť historické logy",
        "reinstall_sudoers": "Preinštalovať pravidlo Sudoers (Sprievodca)",
        "remove_sudoers": "Odstrániť pravidlo Sudoers (Reset)",
        "save": "Uložiť nastavenia",
        "cancel": "Zrušiť",
        "remove_confirm_title": "Odstrániť oprávnenia?",
        "remove_confirm_msg": "Týmto sa odstráni pravidlo pre polkit/sudoers, čo znamená, že testy už nebudú prebiehať automaticky bez hesla.\n\nNaozaj sa chcete vrátiť k pôvodnému správaniu?",
        
        # Wizard
        "wizard_title": "Nastavenie SUSE Update",
        "wizard_welcome": "Vitajte v SUSE Update",
        "wizard_desc": "Tento nástroj potrebuje malú úpravu oprávnení, aby mohol kontrolovať aktualizácie Tumbleweed v pozadí bez toho, aby sa zakaždým pýtal na vaše heslo.",
        "wizard_action": "Pokračovať",
        "wizard_skip": "Preskočiť (Manuálne)",
        "wizard_success": "Nastavenie dokončené!",
        "wizard_success_desc": "Pravidlo sudoers bolo nainštalované. Aplikácia bude teraz kontrolovať aktualizácie ticho na pozadí.",
        "wizard_close": "Zavrieť",
    }
}

def get_text(key, default=None):
    settings = QSettings("SuseUpdater", "OpenSUSE_Tool")
    lang = settings.value("language", "en")
    return TRANSLATIONS.get(lang, TRANSLATIONS["en"]).get(key, default if default is not None else key)
